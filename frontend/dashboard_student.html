<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Student Dashboard | Thinkplus Teach</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
</head>

<body style="align-items: flex-start; padding-top: 50px;">
    <div class="dashboard-container">
        <div class="sidebar">
            <h2>Thinkplus Teach</h2>
            <p style="margin-bottom: 40px; color: var(--text-muted);">Student Portal</p>
            <nav>
                <div class="user-profile">
                    <p>Welcome, <strong id="userName">...</strong></p>
                </div>
                <button onclick="logout()" class="primary-btn"
                    style="background: rgba(239, 68, 68, 0.2); color: #fca5a5; margin-top: 20px;">Logout</button>
            </nav>
        </div>
        <div class="main-content">
            <section>
                <h2>Active Assignments</h2>
                <div id="assignmentList">
                    <p>Fetching assignments...</p>
                </div>
            </section>

            <section style="margin-top: 40px;">
                <h2>Your Recent Submissions</h2>
                <div id="studentSubmissions">
                    <p>Loading your history...</p>
                </div>
            </section>

            <!-- Submission Modal -->
            <div id="submissionModal"
                style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); background: #1e1b4b; padding: 40px; border-radius: 24px; border: 1px solid var(--primary); z-index: 1000; width: 600px; box-shadow: 0 0 50px rgba(0,0,0,0.5);">
                <h2>Submit Assignment</h2>
                <form onsubmit="submitAssignment(event)">
                    <input type="hidden" id="assignmentId">
                    <textarea id="textContent" placeholder="Paste your assignment text here..." required
                        style="width:100%; height:300px; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); border-radius:12px; color:white; padding:12px; margin: 20px 0;"></textarea>
                    <div style="display:flex; gap: 10px;">
                        <button type="submit" class="primary-btn">Submit Now</button>
                        <button type="button" onclick="document.getElementById('submissionModal').style.display='none'"
                            class="primary-btn" style="background:rgba(255,255,255,0.1)">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
    <script>
        loadStudentDashboard();
        function showSubmitModal(id) {
            document.getElementById('assignmentId').value = id;
            document.getElementById('submissionModal').style.display = 'block';
        }
    </script>
</body>

</html>